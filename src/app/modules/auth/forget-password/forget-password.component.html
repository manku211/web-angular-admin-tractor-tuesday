<nz-flex class="login-wrapper" [nzGap]="170">
  <img src="assets/images/tt_logo.svg" alt="logo" />
  <nz-card class="login-ant-card">
    <div class="welcome-text">Update your password</div>
    <div class="welcome-text-desc">
      Effortlessly Manage Listings, Track Bids, and Monitor Sales for
      Agricultural Equipments
    </div>
    <form
      nz-form
      [formGroup]="validateForm"
      class="fp-form"
      (ngSubmit)="submitForm()"
    >
      <div nz-flex nzJustify="flex-end" class="thin-text">
        <span (click)="handleFormFields()" class="clickable-text"
          >Update By {{ updateByText }}</span
        >
      </div>
      <nz-form-item *ngIf="!showPhoneNumber">
        <nz-form-label [nzSpan]="7" nzRequired>Add Email</nz-form-label>
        <nz-form-control nzErrorTip="Please input your email!">
          <nz-input-group nzPrefixIcon="user">
            <input
              type="text"
              nz-input
              formControlName="email"
              placeholder="Email"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item *ngIf="showPhoneNumber">
        <nz-form-label [nzSpan]="10" nzRequired>Add Phone Number</nz-form-label>
        <nz-form-control nzErrorTip="Please enter a valid phone number">
          <nz-input-group nzPrefixIcon="phone">
            <input
              type="text"
              nz-input
              formControlName="phone"
              placeholder="Phone number"
              autocomplete="off"
            />
            <button
              nz-button
              type="button"
              class="primary-button otp-button"
              [disabled]="
                !validateForm.get('phone')?.value ||
                !validateForm.get('phone')?.valid
              "
              (click)="getOtp()"
            >
              Get OTP
            </button>
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item *ngIf="showPhoneNumber">
        <nz-form-label [nzSpan]="7" nzRequired>Add OTP</nz-form-label>
        <nz-form-control
          [nzSpan]="12"
          nzHasFeedback
          nzErrorTip="Please enter numbers only."
        >
          <input
            nz-input
            type="password"
            formControlName="otp"
            placeholder="Enter your otp"
            autocomplete="off"
          />
        </nz-form-control>
      </nz-form-item>
      <div nz-row class="login-form-margin">
        <div nz-col nzOffset="12" [nzSpan]="12">
          <a class="login-form-forgot" [routerLink]="['/']">
            <span
              nz-icon
              nzType="left-circle"
              nzTheme="outline"
              class="back-icon"
            ></span>
            Back to Login</a
          >
        </div>
      </div>
      <button
        nz-button
        class="primary-button"
        [disabled]="isSubmitDisabled()"
        type="submit"
      >
        Submit
      </button>
    </form>
  </nz-card>
</nz-flex>
